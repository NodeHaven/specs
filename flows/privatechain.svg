<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="777px" preserveAspectRatio="none" style="width:885px;height:777px;" version="1.1" viewBox="0 0 885 777" width="885px" zoomAndPan="magnify"><defs><filter height="300%" id="fh92ayin8onky" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="370.5" y="22.9951">Private Chain Flow</text><rect fill="#FFFFFF" filter="url(#fh92ayin8onky)" height="233.0625" rx="5" ry="5" style="stroke: #EDECFF; stroke-width: 2.0;" width="595.5" x="13" y="133.5938"/><rect fill="#FFFFFF" filter="url(#fh92ayin8onky)" height="292.3281" rx="5" ry="5" style="stroke: #EDECFF; stroke-width: 2.0;" width="861" x="13" y="380.6563"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="75" x2="75" y1="116.5938" y2="689.9844"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="332.5" x2="332.5" y1="116.5938" y2="689.9844"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="572.5" x2="572.5" y1="116.5938" y2="689.9844"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="670.5" x2="670.5" y1="116.5938" y2="689.9844"/><line style="stroke: #878787; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="818" x2="818" y1="116.5938" y2="689.9844"/><rect fill="#FFFFFF" filter="url(#fh92ayin8onky)" height="30.2969" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="80" x="33" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="40" y="101.292">ClientApp</text><rect fill="#FFFFFF" filter="url(#fh92ayin8onky)" height="30.2969" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="80" x="33" y="688.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="40" y="708.9795">ClientApp</text><rect fill="#FFFFFF" filter="url(#fh92ayin8onky)" height="30.2969" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="97" x="282.5" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="289.5" y="101.292">UportMobile</text><rect fill="#FFFFFF" filter="url(#fh92ayin8onky)" height="30.2969" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="97" x="282.5" y="688.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="83" x="289.5" y="708.9795">UportMobile</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="547.5" y="113.292">Owner</text><ellipse cx="573" cy="43.2969" fill="#FFFFFF" filter="url(#fh92ayin8onky)" rx="8" ry="8" style="stroke: #6959DB; stroke-width: 2.0;"/><path d="M573,51.2969 L573,78.2969 M560,59.2969 L586,59.2969 M573,78.2969 L560,93.2969 M573,78.2969 L586,93.2969 " fill="none" filter="url(#fh92ayin8onky)" style="stroke: #6959DB; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="547.5" y="701.9795">Owner</text><ellipse cx="573" cy="715.2813" fill="#FFFFFF" filter="url(#fh92ayin8onky)" rx="8" ry="8" style="stroke: #6959DB; stroke-width: 2.0;"/><path d="M573,723.2813 L573,750.2813 M560,731.2813 L586,731.2813 M573,750.2813 L560,765.2813 M573,750.2813 L586,765.2813 " fill="none" filter="url(#fh92ayin8onky)" style="stroke: #6959DB; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#fh92ayin8onky)" height="30.2969" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="100" x="618.5" y="81.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="625.5" y="101.292">RpcGateway</text><rect fill="#FFFFFF" filter="url(#fh92ayin8onky)" height="30.2969" rx="5" ry="5" style="stroke: #6959DB; stroke-width: 1.5;" width="100" x="618.5" y="688.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="625.5" y="708.9795">RpcGateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="773" y="113.292">PrivateChain</text><path d="M800.5,64.2969 C800.5,54.2969 818.5,54.2969 818.5,54.2969 C818.5,54.2969 836.5,54.2969 836.5,64.2969 L836.5,90.2969 C836.5,100.2969 818.5,100.2969 818.5,100.2969 C818.5,100.2969 800.5,100.2969 800.5,90.2969 L800.5,64.2969 " fill="#FEFECE" filter="url(#fh92ayin8onky)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M800.5,64.2969 C800.5,74.2969 818.5,74.2969 818.5,74.2969 C818.5,74.2969 836.5,74.2969 836.5,64.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="773" y="701.9795">PrivateChain</text><path d="M800.5,715.2813 C800.5,705.2813 818.5,705.2813 818.5,705.2813 C818.5,705.2813 836.5,705.2813 836.5,715.2813 L836.5,741.2813 C836.5,751.2813 818.5,751.2813 818.5,751.2813 C818.5,751.2813 800.5,751.2813 800.5,741.2813 L800.5,715.2813 " fill="#FEFECE" filter="url(#fh92ayin8onky)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M800.5,715.2813 C800.5,725.2813 818.5,725.2813 818.5,725.2813 C818.5,725.2813 836.5,725.2813 836.5,715.2813 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><path d="M18,133.5938 L232,133.5938 L232,140.5938 L222,150.5938 L13,150.5938 L13,138.5938 " fill="#6959DB" style="stroke: #EDECFF; stroke-width: 1.0;"/><rect fill="none" height="233.0625" rx="5" ry="5" style="stroke: #EDECFF; stroke-width: 2.0;" width="595.5" x="13" y="133.5938"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="174" x="28" y="146.6606">Private Chain Discovery</text><polygon fill="#6959DB" points="321,182.9922,331,186.9922,321,190.9922,325,186.9922" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="75" x2="327" y1="186.9922" y2="186.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="82" y="166.7935">Selective Disclosure Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="86" y="181.9263">Provide rpc endpoint</text><polygon fill="#6959DB" points="561,212.125,571,216.125,561,220.125,565,216.125" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="333" x2="567" y1="216.125" y2="216.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="340" y="211.0591">Authorize Request?</text><polygon fill="#6959DB" points="344,241.2578,334,245.2578,344,249.2578,340,245.2578" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="338" x2="572" y1="245.2578" y2="245.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="350" y="240.1919">Allow/Disallow</text><line style="stroke: #6959DB; stroke-width: 1.0;" x1="333" x2="375" y1="274.3906" y2="274.3906"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="375" x2="375" y1="274.3906" y2="287.3906"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="334" x2="375" y1="287.3906" y2="287.3906"/><polygon fill="#6959DB" points="344,283.3906,334,287.3906,344,291.3906,340,287.3906" style="stroke: #6959DB; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="340" y="269.3247">Store netId -&gt; rpc endpoint</text><line style="stroke: #6959DB; stroke-width: 1.0;" x1="333" x2="375" y1="316.5234" y2="316.5234"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="375" x2="375" y1="316.5234" y2="329.5234"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="334" x2="375" y1="329.5234" y2="329.5234"/><polygon fill="#6959DB" points="344,325.5234,334,329.5234,344,333.5234,340,329.5234" style="stroke: #6959DB; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="340" y="311.4575">Sign Selective Disclosure Response</text><polygon fill="#6959DB" points="86,354.6563,76,358.6563,86,362.6563,82,358.6563" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="80" x2="332" y1="358.6563" y2="358.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="92" y="353.5903">Selective Disclosure Response</text><path d="M18,380.6563 L240,380.6563 L240,387.6563 L230,397.6563 L13,397.6563 L13,385.6563 " fill="#6959DB" style="stroke: #EDECFF; stroke-width: 1.0;"/><rect fill="none" height="292.3281" rx="5" ry="5" style="stroke: #EDECFF; stroke-width: 2.0;" width="861" x="13" y="380.6563"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182" x="28" y="393.7231">Private Chain Interaction</text><polygon fill="#6959DB" points="321,414.9219,331,418.9219,321,422.9219,325,418.9219" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="75" x2="327" y1="418.9219" y2="418.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="82" y="413.856">Send Ethereum Transaction Request</text><polygon fill="#6959DB" points="561,444.0547,571,448.0547,561,452.0547,565,448.0547" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="333" x2="567" y1="448.0547" y2="448.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="340" y="442.9888">Authorize Request?</text><polygon fill="#6959DB" points="344,473.1875,334,477.1875,344,481.1875,340,477.1875" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="338" x2="572" y1="477.1875" y2="477.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="350" y="472.1216">Allow/Disallow</text><line style="stroke: #6959DB; stroke-width: 1.0;" x1="333" x2="375" y1="506.3203" y2="506.3203"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="375" x2="375" y1="506.3203" y2="519.3203"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="334" x2="375" y1="519.3203" y2="519.3203"/><polygon fill="#6959DB" points="344,515.3203,334,519.3203,344,523.3203,340,519.3203" style="stroke: #6959DB; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="340" y="501.2544">Sign Transaction</text><polygon fill="#6959DB" points="658.5,544.4531,668.5,548.4531,658.5,552.4531,662.5,548.4531" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="333" x2="664.5" y1="548.4531" y2="548.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="340" y="543.3872">Send transaction</text><polygon fill="#6959DB" points="806.5,573.5859,816.5,577.5859,806.5,581.5859,810.5,577.5859" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="670.5" x2="812.5" y1="577.5859" y2="577.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="677.5" y="572.52">Submit Transaction</text><polygon fill="#6959DB" points="344,602.7188,334,606.7188,344,610.7188,340,606.7188" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="338" x2="669.5" y1="606.7188" y2="606.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="350" y="601.6528">Signed Transaction</text><polygon fill="#6959DB" points="86,631.8516,76,635.8516,86,639.8516,82,635.8516" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="80" x2="332" y1="635.8516" y2="635.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="92" y="630.7856">Transaction Hash</text><polygon fill="#6959DB" points="86,660.9844,76,664.9844,86,668.9844,82,664.9844" style="stroke: #6959DB; stroke-width: 1.0;"/><polygon fill="#6959DB" points="806.5,660.9844,816.5,664.9844,806.5,668.9844,810.5,664.9844" style="stroke: #6959DB; stroke-width: 1.0;"/><line style="stroke: #6959DB; stroke-width: 1.0;" x1="80" x2="812.5" y1="664.9844" y2="664.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="92" y="659.9185">Transaction Confirmation</text><!--
@startuml
skinparam roundcorner 10
skinparam BoxPadding 10
skinparam headerFontColor #6959DB
skinparam headerFontSize 18
skinparam sequence {
  ArrowColor #6959DB
  GroupBackgroundColor #6959DB
  GroupBorderColor #EDECFF
  GroupHeaderFontColor #ffffff
  BoxBorderColor #6959DB
  BoxBackgroundColor #EDECFF
  BoxPadding 10

  ParticipantBorderColor #6959DB
  ParticipantBackgroundColor #ffffff
  ParticipantPadding 10

  ActorBorderColor #6959DB
  ActorBackgroundColor #ffffff
  EntityBorderColor #6959DB
  EntityBackgroundColor #ffffff
  DatabaseBorderColor #6959DB
  DatabaseBackgroundColor #ffffff

  LifeLineBorderColor #878787
}

title Private Chain Flow 
participant ClientApp
participant UportMobile
actor Owner
participant RpcGateway
database PrivateChain

group Private Chain Discovery
  ClientApp -> UportMobile : Selective Disclosure Request\n Provide rpc endpoint
  UportMobile -> Owner : Authorize Request?
  Owner -> UportMobile: Allow/Disallow
  UportMobile -> UportMobile: Store netId -> rpc endpoint 
  UportMobile -> UportMobile: Sign Selective Disclosure Response
  UportMobile -> ClientApp: Selective Disclosure Response
end

group Private Chain Interaction
  ClientApp -> UportMobile : Send Ethereum Transaction Request
  UportMobile -> Owner : Authorize Request?
  Owner -> UportMobile: Allow/Disallow
  UportMobile -> UportMobile: Sign Transaction
  UportMobile -> RpcGateway: Send transaction
  RpcGateway -> PrivateChain: Submit Transaction
  RpcGateway -> UportMobile: Signed Transaction
  UportMobile -> ClientApp: Transaction Hash
  ClientApp <-> PrivateChain: Transaction Confirmation
end
@enduml

PlantUML version 1.2018.13(Mon Nov 26 14:11:51 CLST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 10.0.2+13-Ubuntu-1ubuntu0.18.04.4
Operating System: Linux
OS Version: 4.15.0-42-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>